{% extends 'layout.html' %}
{% block title %}Dashboard - CodeFolio{% endblock %}
{% block content %}
<div class="dashboard-container">
    <aside class="add-form-section">
        <h2>Add New Project</h2>
        <form action="#" method="POST" class="add-form">
            <div class="form-group">
                <label for="title">Project Title</label>
                <input type="text" id="title" name="title" required>
            </div>
            <div class="form-group">
                <label for="description">Description</label>
                <textarea id="description" name="description" rows="4" required></textarea>
            </div>
            <div class="form-group">
                <label for="tech_used">Technologies Used (comma-separated)</label>
                <input type="text" id="tech_used" name="tech_used" required>
            </div>
            <div class="form-group">
                <label for="github_link">GitHub Link</label>
                <input type="url" id="github_link" name="github_link" required>
            </div>
            <button type="submit" class="btn">Add Project</button>
        </form>
    </aside>

    <main class="project-list-section">
        <h2>Your Projects</h2>
        <ul class="project-list">
            {% for project in projects %}
            <li>
                <span>{{ project.title }}</span>
                <div class="actions">
                    <a href="{{ url_for('edit_project', project_id=project.id) }}" class="btn-edit">Edit</a>
                    <form action="{{ url_for('delete_project', project_id=project.id) }}" method="POST"
                        style="display:inline;">
                        <button type="submit" class="btn-delete"
                            onclick="return confirm('Are you sure you want to delete this project?');">Delete</button>
                    </form>
                </div>
            </li>
            {% else %}
            <li>You haven't added any projects yet.</li>
            {% endfor %}
        </ul>
    </main>
</div>
{% endblock %}